<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WA-ESD Job Search Logging Assistant</title>
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. jszip - For creating ZIP files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <!-- 3. pdf-lib - For filling the PDF form -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <!-- 4. FileSaver.js - For triggering the download -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css">

</head>

<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto max-w-2xl p-4 sm:p-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1
                class="text-4xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-500 via-teal-600 to-blue-700">
                WA-ESD Job Search Logging Assistant
            </h1>
            <p class="text-lg text-gray-600 mt-2">A simple tool to package your WA weekly job log.</p>
        </header>

        <!-- Main Content Area -->
        <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-gray-200 relative overflow-hidden">
            <!-- New Gradient Bar -->
            <div class="absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-green-500 via-teal-500 to-blue-600">
            </div>

            <!-- Step 0: Launch Page (New) -->
            <section id="step-launch">
                <div class="text-center pt-4">
                    <h2 class="text-3xl font-semibold mb-4 text-gray-800">Welcome!</h2>
                    <p class="text-lg text-gray-600 mb-8">
                        This tool helps you quickly fill out your weekly WA ESD Job Search Log PDF and package it with
                        any necessary proof files into a single ZIP folder.
                    </p>
                    <p class="text-sm text-gray-500 mb-8">
                        This tool runs entirely in your browser. No data are ever uploaded or saved.
                    </p>
                    <p class="text-xs text-gray-500">
                        <b>Always verify your submission and final job log meets official requirements.</b><br>
                        This tool is not affiliated with or endorsed by the Washington State Employment Security
                        Department.
                        Authors are not responsible or liable for any issues arising from the use of this tool, which is
                        provided as-is. Use at your own risk
                    </p>
                    <br>
                    <button onclick="showStep('welcome')"
                        class="w-full max-w-xs mx-auto bg-gradient-to-r from-green-500 via-teal-600 to-blue-600 text-white font-bold py-4 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 text-xl">
                        Get Started
                    </button>
                </div>
            </section>

            <!-- Step 1: Welcome & User Info -->
            <section id="step-welcome" class="hidden">
                <h2 class="text-2xl font-semibold mb-4 text-gray-700">Step 1: Your Information</h2>
                <p class="text-gray-600 mb-6">First, let's get your basic info. This will be added to the top of your
                    PDF log.</p>
                <div class="space-y-4">
                    <div>
                        <label for="weekEnding" class="block text-sm font-medium text-gray-700 mb-1">Week Ending
                            Date</label>
                        <div class="flex items-center space-x-2">
                            <!-- Date picker -->
                            <input type="date" id="weekEnding" required class="form-input">
                            <!-- "This Week" button -->
                            <button onclick="setThisWeek()"
                                class="flex-shrink-0 bg-teal-100 text-teal-700 font-semibold py-3 px-4 rounded-lg hover:bg-teal-200 transition-all duration-200">
                                Set to This Week
                            </button>
                        </div>
                    </div>
                    <div>
                        <label for="claimantName" class="block text-sm font-medium text-gray-700 mb-1">Your Name (Last,
                            First, Middle)</label>
                        <input type="text" id="claimantName" placeholder="Doe, Jane, Mary" class="form-input">
                    </div>
                    <div>
                        <label for="claimantId" class="block text-sm font-medium text-gray-700 mb-1">ID or SSN</label>
                        <input type="text" id="claimantId" placeholder="Your ID or SSN" class="form-input">
                        <p class="text-sm text-gray-500 mb-8">
                            This tool runs entirely in your browser. No data is ever uploaded or saved.
                        </p>
                    </div>
                </div>
                <button onclick="startLogging()"
                    class="w-full mt-8 bg-gradient-to-r from-teal-500 to-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:from-teal-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105">
                    Start Logging Activities
                </button>
            </section>

            <!-- Step 2: Activity Logger (Dynamic) -->
            <section id="step-activity" class="hidden">
                <h2 class="text-2xl font-semibold mb-2 text-gray-700">Step 2: Log Activity <span
                        id="activity-counter">1</span> of 3</h2>

                <!-- General Activity Info -->
                <div class="space-y-4">
                    <div>
                        <label for="activityDate" class="block text-sm font-medium text-gray-700 mb-1">Activity
                            Date</label>
                        <!-- Date picker -->
                        <input type="date" id="activityDate" required class="form-input">
                    </div>
                    <div>
                        <label for="activityCategory" class="block text-sm font-medium text-gray-700 mb-1">Activity
                            Category</label>
                        <!-- Main category dropdown -->
                        <select id="activityCategory" onchange="showActivityForm()" class="form-input bg-white">
                            <option value="">-- Select a category --</option>
                            <option value="employer_contact">Employer Contact</option>
                            <option value="worksource_online">WorkSource Online Activity</option>
                            <option value="worksource_inperson">WorkSource In-Person Activity</option>
                            <option value="hiring_events_etc">Hiring Events, Job Fairs, Clubs, etc.</option>
                            <option value="job_search_websites">Job Search Websites & Assessments</option>
                            <option value="education_credentials">Educational Videos & Credentials</option>
                            <option value="instructor_led_courses">Instructor-Led Courses</option>
                            <option value="self_paced_courses">Self-Paced Courses</option>
                            <option value="app_based_work">App-Based Driving or Delivery Work</option>
                            <option value="private_career_coach">Private Career Coach / Agency</option>
                            <option value="wioa_programs">WIOA Programs and Services</option>
                            <option value="vocational_rehab">Vocational Rehabilitation</option>
                        </select>
                    </div>
                </div>

                <!-- Dynamic Forms Container -->
                <div id="activity-forms-container" class="mt-6 space-y-4">

                    <!-- Form: Employer Contact -->
                    <div id="form-employer_contact" class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200">
                        <!-- ... (same as before) ... -->
                        <h3 class="text-lg font-semibold text-gray-800 mb-2 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <span class="ml-2">Employer Contact</span>
                        </h3>
                        <p class="text-sm text-gray-600 mb-4">Fill in all available details about your contact with the
                            employer.</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <input type="text" id="ec-job-title" placeholder="Job Title or Ref #" class="form-input">
                            <input type="text" id="ec-employer-name" placeholder="Employer / Business Name"
                                class="form-input">
                            <select id="ec-contact-method" class="form-input bg-white">
                                <option value="">-- How did you contact? --</option>
                                <option value="Online">Online</option>
                                <option value="By Email">By Email</option>
                                <option value="By Phone">By Phone</option>
                                <option value="In-person">In-person</option>
                                <option value="By Mail">By Mail</option>
                                <option value="Other">Other</option>
                            </select>
                            <input type="text" id="ec-contact-other" placeholder="Other contact details"
                                class="form-input">
                            <select id="ec-contact-type" class="form-input bg-white">
                                <option value="">-- Type of contact? --</option>
                                <option value="Application/resume">Submitted Application/Resume</option>
                                <option value="Interview">Attended Interview</option>
                                <option value="Inquiry">Made an Inquiry</option>
                            </select>
                            <input type="text" id="ec-website-email" placeholder="Website or Email Address"
                                class="sm:col-span-2 form-input">
                            <input type="text" id="ec-phone" placeholder="Phone Number" class="form-input">
                            <input type="text" id="ec-address" placeholder="Address (Street)" class="form-input">
                            <input type="text" id="ec-address-city" placeholder="[Address] City" class="form-input">
                            <input type="text" id="ec-address-state" placeholder="[Address] State" class="form-input">
                        </div>
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Proof (Optional, e.g.,
                                application confirmation screenshot)</label>
                            <div id="paste-box-employer_contact"
                                class="paste-box p-4 rounded-lg text-center cursor-pointer">
                                <span class="text-gray-500">Click to upload or paste image</span>
                                <input type="file" class="hidden" accept="image/*,.pdf"
                                    onchange="handleFileUpload(this, 'employer_contact')">
                                <div class="preview-container mt-2"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Generic template for new dynamic forms -->
                    <div id="form-worksource_online"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="worksource_online">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3 0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5 0h.008v.008h-.008v-.008zM12 15h.008v.008H12V15z" />
                            </svg>
                            <span class="ml-2">WorkSource Online Activity</span>
                        </h3>
                        <!-- This select will be populated by JS -->
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select a WorkSource Online activity --</option>
                        </select>
                        <!-- This container will be filled by JS -->
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-worksource_inperson"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="worksource_inperson">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                            </svg>
                            <span class="ml-2">WorkSource In-Person Activity</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an In-Person activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-hiring_events_etc"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="hiring_events_etc">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                            </svg>
                            <span class="ml-2">Hiring Events, Job Fairs, Clubs, etc.</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-job_search_websites"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="job_search_websites">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            <span class="ml-2">Job Search Websites & Assessments</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-education_credentials"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="education_credentials">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span class="ml-2">Educational Videos & Credentials</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-instructor_led_courses"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="instructor_led_courses">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path d="M12 14l9-5-9-5-9 5 9 5z" />
                                <path
                                    d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
                            </svg>
                            <span class="ml-2">Instructor-Led Courses</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select a course type --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-self_paced_courses"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="self_paced_courses">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V7.5a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 7.5v7.5a2.25 2.25 0 002.25 2.25h.31e" />
                            </svg>
                            <span class="ml-2">Self-Paced Courses</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select a course type --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-app_based_work"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="app_based_work">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
                            </svg>
                            <span class="ml-2">App-Based Driving or Delivery Work</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-private_career_coach"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="private_career_coach">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M18 18.72a9.094 9.094 0 00-12.12 0M18 18.72a9.094 9.094 0 01-12.12 0m12.12 0A9.094 9.094 0 009.67 3.75m1.06-1.06l-1.06 1.06a9.094 9.094 0 00-6.18 6.18l-1.06 1.06m5.5-5.5a9.094 9.094 0 016.18 6.18l1.06 1.06m-5.5-5.5a9.094 9.094 0 00-6.18-6.18l-1.06-1.06" />
                            </svg>
                            <span class="ml-2">Private Career Coach / Agency</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-wioa_programs"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="wioa_programs">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5z" />
                            </svg>
                            <span class="ml-2">WIOA Programs and Services</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                    <div id="form-vocational_rehab"
                        class="hidden p-4 bg-gray-50 rounded-lg border border-gray-200 dynamic-form"
                        data-category="vocational_rehab">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-teal-600" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z" />
                            </svg>
                            <span class="ml-2">Vocational Rehabilitation (DSB or DVR)</span>
                        </h3>
                        <select class="activity-select form-input bg-white" onchange="updateActivityDetails(this)">
                            <option value="">-- Select an activity --</option>
                        </select>
                        <div class="details-container mt-4 space-y-4"></div>
                    </div>

                </div>

                <!-- Navigation -->
                <div class="flex justify-between mt-8">
                    <button onclick="prevStep()" id="prev-button"
                        class="bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-sm hover:bg-gray-300 transition duration-300">
                        Back
                    </button>
                    <button onclick="nextActivity()" id="next-button"
                        class="bg-gradient-to-r from-teal-500 to-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:from-teal-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105">
                        Next Activity
                    </button>
                </div>
            </section>

            <!-- Step 3: Review -->
            <section id="step-review" class="hidden">
                <h2 class="text-2xl font-semibold mb-4 text-gray-700">Step 3: Review & Download</h2>
                <p class="text-gray-600 mb-6">Please review your information. When you're ready, click the button to
                    generate your ZIP file.</p>

                <!-- Review Summary -->
                <div class="space-y-6">
                    <!-- General Info Review -->
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-3">General Info</h3>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p><strong>Week Ending:</strong> <span id="review-weekEnding" class="text-gray-700"></span>
                            </p>
                            <p><strong>Name:</strong> <span id="review-claimantName" class="text-gray-700"></span></p>
                            <p><strong>ID/SSN:</strong> <span id="review-claimantId" class="text-gray-700"></span></p>
                        </div>
                    </div>
                    <!-- Activities Review -->
                    <div id="review-activities" class="space-y-4">
                        <!-- Activity reviews will be injected here by JS -->
                    </div>
                </div>

                <button onclick="generateZip()"
                    class="w-full mt-8 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105">
                    Generate & Download ZIP
                </button>
                <button onclick="startOver()"
                    class="w-full mt-4 bg-gray-200 text-gray-700 font-bold py-3 px-6 rounded-lg shadow-sm hover:bg-gray-300 transition duration-300">
                    Start Over
                </button>
            </section>

        </main>

        <!-- Custom Modal for Errors -->
        <div id="error-modal"
            class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-sm w-full p-6 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-red-500 mx-auto mb-4" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <h3 class="text-2xl font-bold text-red-600 mb-4">Error</h3>
                <p id="error-message" class="text-gray-700 mb-6">Something went wrong.</p>
                <button onclick="closeModal('error-modal')"
                    class="bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition duration-300">
                    Close
                </button>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay">
            <div class="text-center text-white">
                <div class="spinner"></div>
                <p class="text-xl font-semibold mt-4">Generating your ZIP file...</p>
                <p class="mt-2">This may take a moment.</p>
            </div>
        </div>

    </div>

    <!-- JavaScript Application Logic -->
    <script>
        // --- PDF and ZIP Libraries ---
        const { PDFDocument, rgb } = PDFLib;

        // This script block is only for initialization that MUST happen inline or
        // if you prefer to keep some config here.
        // Currently, all logic has been moved to external files.
    </script>
    <script src="js/ui-utils.js"></script>
    <script src="js/activity-data.js"></script>
    <script src="js/pdf-utils.js"></script>
    <script src="js/zip-utils.js"></script>
    <script src="js/app.js"></script>
</body>
<footer class="mt-12 text-center text-gray-500 text-sm">
    <div class="py-6 border-t border-gray-200">
        &copy; 2025 Timothy Johnstone (<a href="https://github.com/tgjohnst"
            class="underline hover:text-teal-700">tgjohnst</a>) &mdash;
        <a href="https://github.com/tgjohnst/waesd-job-log-assistant" class="underline hover:text-teal-700"
            target="_blank" rel="noopener">View on GitHub</a>
    </div>
</footer>

</html>